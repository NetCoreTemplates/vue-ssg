import{_ as T}from"./AppPage.vue_vue_type_script_setup_true_lang-628a4f63.js";import{a as F}from"./AppBreadcrumb.vue_vue_type_script_setup_true_lang-2da6103c.js";import{_ as G}from"./chevron-left-4058472f.js";import{_ as j}from"./SrcLink.vue_vue_type_script_setup_true_lang-7bb5f23a.js";import{_ as H}from"./vue-33c1292e.js";import{f as I,k as u,M as Q,L as U,y as O,X as z,Q as k,l as P,r as d,o as m,d as _,w as o,i as w,j as X,a,e as s,b as e,t as p,a6 as Y}from"./app-b230772f.js";import"./home-5fff0d29.js";const $=e("svg",{class:"w-5 h-5 mr-1 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"})],-1),q={class:"text-gray-900"},J=e("span",{class:"hidden lg:inline"},"Room ",-1),K=["innerHTML"],W=e("span",{class:"hidden lg:inline"}," Date",-1),Z=e("span",{class:"hidden lg:inline"}," Date",-1),ee={class:"mt-5 flex justify-between items-center"},te={class:"flex justify-between"},oe=e("div",{class:"mx-4 text-gray-400"},"|",-1),ne=e("div",{class:"mt-12"},[e("h2",{class:"mb-5 sm:text-3xl text-gray-700"},[e("a",{class:"text-green-600 hover:text-green-800",href:"https://docs.servicestack.net/vue/"},"Vue Component Library")]),e("iframe",{class:"youtube",src:"https://www.youtube.com/embed/YIa0w6whe2U",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""})],-1),me=I({__name:"BookingsData",setup(se){const g=u(!1),i=u(),l=u(),h=u([]),v=Q(),{currency:b}=Y(),{hasRole:B}=U(),D=O(()=>B("Manager"));async function f(){const n=await v.api(new k);n.succeeded&&(h.value=n.response.results||[])}function y(n={}){g.value=n.create??!1,i.value=n.editId??void 0}function c(){f(),y()}return z(i,async()=>{if(i.value){const n=await v.api(new k({id:i.value}));if(n.succeeded){l.value=n.response.results[0];return}}l.value=null}),P(f),(n,r)=>{const C=d("AutoCreateForm"),V=d("AutoEditForm"),L=d("OutlineButton"),M=d("DataGrid"),N=H,S=j,A=G,x=d("RouterLink"),E=F,R=T;return m(),_(R,{title:"Bookings DataGrid",class:"sm:max-w-fit"},{default:o(()=>[g.value?(m(),_(C,{key:0,type:"CreateBooking",onDone:c,onSave:c})):l.value?(m(),_(V,{key:1,type:"UpdateBooking",deleteType:w(D)?"DeleteBooking":null,modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=t=>l.value=t),onDone:c,onSave:c,onDelete:c},null,8,["deleteType","modelValue"])):X("",!0),a(L,{onClick:r[1]||(r[1]=()=>y({create:!0}))},{default:o(()=>[$,s(" New Booking ")]),_:1}),a(M,{items:h.value,"visible-from":{name:"xl",bookingStartDate:"sm",bookingEndDate:"xl"},onRowSelected:r[2]||(r[2]=t=>i.value=i.value==t.id?null:t.id),"is-selected":t=>i.value==t.id},{id:o(({id:t})=>[e("span",q,p(t),1)]),name:o(({name:t})=>[s(p(t),1)]),"roomNumber-header":o(()=>[J,s("No ")]),cost:o(({cost:t})=>[e("span",{innerHTML:w(b)(t)},null,8,K)]),"bookingStartDate-header":o(()=>[s(" Start"),W]),"bookingEndDate-header":o(()=>[s(" End"),Z]),"createdBy-header":o(()=>[s(" Employee ")]),createdBy:o(({createdBy:t})=>[s(p(t),1)]),_:1},8,["items","is-selected"]),e("div",ee,[e("div",null,[a(N,{class:"w-5 h-5 inline"}),a(S,{href:"https://github.com/NetCoreTemplates/vue-ssg/blob/main/ui/src/pages/BookingsData.vue"})]),e("div",te,[e("div",null,[a(A,{class:"text-gray-400 w-6 h-6 inline","aria-hidden":"true"}),a(x,{class:"text-gray-400 hover:text-gray-600",to:"/bookings"},{default:o(()=>[s("Bookings AutoQueryGrid")]),_:1})]),oe,e("div",null,[a(x,{class:"text-gray-400 hover:text-gray-600",to:"/bookings-crud"},{default:o(()=>[s("Custom Bookings")]),_:1}),a(E,{class:"text-gray-400 w-6 h-6 inline","aria-hidden":"true"})])])]),ne]),_:1})}}});export{me as default};
